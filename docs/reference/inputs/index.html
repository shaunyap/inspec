<!DOCTYPE html><html><head><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" /><link href="/favicon.png" rel="icon" type="image/png" /><link href="/favicon.ico" rel="icon" /><title>Chef InSpec</title><meta name="description" /><link href="/css/inspec_tutorial.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/vendor/fontawesome.min.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/site.css" rel="stylesheet" /></head><body class="docs docs_reference docs_reference_inputs docs_reference_inputs_index"><script>gm_session_id = 'inspecGlobalMessage8';</script><div class="container"><nav class="shadow" id="main-nav"><progress value="0"></progress><div id="main-nav-ctas"><a class="main-nav--logo" href="/"><img alt="logo for Chef InSpec" onerror="this.src='/images/inspec-by-chef-logo.png'" src="/images/inspec-by-chef-logo.svg" /></a><i class="fa fa-bars main-nav--toggle strict-right mobile-show"></i><ul class="main-nav--links"><li class="main-nav--link"><a href="/tutorials" class="link " <span class="main-nav--link-text">Tutorials</span></a></li><li class="main-nav--link"><a href="/docs" class="link " <span class="main-nav--link-text">Docs</span></a></li><li class="main-nav--link"><a href="/community" class="link " <span class="main-nav--link-text">Community</span></a></li><li class="main-nav--link"><a class="link" href="https://github.com/chef/inspec"><i class="fa fa-github"></i><span class="main-nav--link-text">Github</span></a></li><li class="nav-cta"><a class="button btn-sm btn-purple" href="/downloads"><i class="fa fa-cloud-download"></i>Download</a></li></ul></div></nav><main id="main-content"><!--header search--><header class="bg-gradient margin-top-offset relative"><div class="row"><div class="columns large-12 medium-12 z-20"><div class="flex align margin-both"><form action="/docs/search/" class="main-sidebar--search shadow-dark" method="get"><input class="st-default-search-input" name="q" placeholder="Search documentation..." type="text" /></form><button action="/docs/search/" class="search shadow-dark margin-left-xs" method="get"><i class="fa fa-search t-white"></i></button></div></div></div><div id="particles-second"><canvas class="particles-js-canvas-el" /></div></header><div class="row margin-both relative"><column class="columns large-3 medium-3 mobile-hide" id="sidebar"><ul class="main-sidebar--links"><li class="main-sidebar--link"><small>Getting Started</small><ul class="main-sidebar--list no-bullet"><li class="main-sidebar--list--item--a"><a href="/docs">Overview</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/downloads">Get Chef InSpec</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/platforms">Chef InSpec for the cloud</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/tutorials">Tutorials</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/inspec_and_friends">Chef InSpec and friends</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/glossary">Chef InSpec Glossary</a><i class="fa fa-angle-double-right focus strict-right"></i></li></ul></li><li class="main-sidebar--link"><small>Reference</small><ul class="main-sidebar--list no-bullet"><li class="main-sidebar--list--item--a"><a href="/docs/reference/cli">inspec executable</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/profiles">Profiles</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/resources">Resources</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a t-purple"><a href="/docs/reference/inputs">Inputs</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/matchers">Matchers</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/reporters">Reporters</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/config">Configuration</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/dsl_inspec">Chef InSpec DSL</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/style">Profile Style guide</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/dsl_resource">Custom Resources</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/plugins">Plugins</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/plugin_kitchen_inspec">kitchen-inspec</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/shell">inspec shell</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/habitat">Chef Habitat Integration</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/migration">Migration from Serverspec</a><i class="fa fa-angle-double-right focus strict-right"></i></li></ul></li></ul></column><column class="columns large-9 medium-9 mobile-12" id="mainbar"><h1 id="chef-inspec-inputs">Chef InSpec Inputs</h1>

<h2 id="what-are-inputs">What are Inputs?</h2>

<p>Inputs are the &ldquo;knobs&rdquo; you can use to customize the behavior of Chef InSpec profiles. If a profile supports inputs, you can set the inputs in a variety of ways, allowing flexibility.  Profiles that include other profiles can set inputs in the included profile, enabling a multi-layered approach to configuring profiles.</p>

<h3 id="a-simple-example">A Simple Example</h3>

<p>Suppose you have a profile named <code>rock_critic</code>. In its profile metadata file (inspec.yml):</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="c1"># Optionally declare inputs in the profile metadata</span>
<span class="c1"># This lets you set up things like type checking, etc.</span>
<span class="na">inputs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">amplifier_max_volume</span>
  <span class="na">description</span><span class="pi">:</span> <span class="s">How loud the amplifiers can go</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">numeric</span>
  <span class="c1"># More options, including value: and priority: are possible here</span>
</code></pre></div>
<p>In the profile&rsquo;s control code:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="c1"># Set a default value for an input.  This is optional.</span>
<span class="n">input</span><span class="p">(</span><span class="s1">'amplifier_max_volume'</span><span class="p">,</span> <span class="ss">value: </span><span class="mi">10</span><span class="p">)</span>

<span class="n">control</span> <span class="s1">'Big Rock Show'</span> <span class="k">do</span>
  <span class="n">describe</span> <span class="n">input</span><span class="p">(</span><span class="s1">'amplifier_max_volume'</span><span class="p">)</span> <span class="k">do</span>    <span class="c1"># This line reads the value of the input</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">eq</span> <span class="mi">11</span> <span class="p">}</span> <span class="c1"># The UK'S LOUDEST BAND</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>When the above profile is executed by using <code>inspec exec rock_critic</code>, you would see something like:</p>
<div class="highlight"><pre class="highlight plaintext"><code>  11
     ×  should eq 10

     expected: 10
          got: 11

     (compared using ==)
Test Summary: 0 successful, 1 failure, 0 skipped
</code></pre></div>
<p>That result clearly won&rsquo;t do. Let&rsquo;s override the input&rsquo;s default value. Create a file, <code>custom_amps.yml</code>:</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">amplifier_max_volume</span><span class="pi">:</span> <span class="m">11</span>
</code></pre></div>
<p>We can now run that profile with <code>inspec exec rock_critic --input-file custom_amps.yaml</code>:</p>
<div class="highlight"><pre class="highlight plaintext"><code>  11
     ✔  should eq 11

Test Summary: 1 successful, 0 failures, 0 skipped
</code></pre></div>
<h3 id="which-profiles-support-inputs">Which profiles support inputs?</h3>

<p>The best way for a profile to indicate it supports inputs is to list them in the metadata file, <code>inspec.yml</code>. Any profile that has an <code>inputs</code> (or the deprecated <code>attributes</code>) section in its <code>inspec.yml</code> metadata file is <a href="#configuring-inputs-in-profile-metadata">configuring</a> inputs.</p>

<p>That said, any profile that uses the DSL keyword <code>input()</code> (or the deprecated <code>attribute()</code>) in the control source code supports inputs.  These profiles are <em>reading</em> (and possibly setting) input values and using them to make decisions.</p>

<h3 id="how-can-i-set-inputs">How can I set Inputs?</h3>

<p>As installed (without specialized plugins), Chef InSpec supports five ways of setting inputs:</p>

<ul>
<li>Inline in control code, using <code>input(&#39;input_name&#39;, value: 42)</code>.</li>
<li>In profile <code>inspec.yml</code> metadata files</li>
<li>Using the CLI option <code>--input-file somefile.yaml</code></li>
<li>In kitchen-inspec, using the <code>verifier/inputs</code> settings</li>
<li>In the Audit Cookbook, using the <code>node[:audit][:inputs]</code></li>
</ul>

<p>In addition, Chef InSpec supports Input Plugins, which can provide optional integrations to specific key-value stores.</p>

<h3 id="how-does-input-precedence-work">How does Input precedence work?</h3>

<h4 id="simple-precedence">Simple Precedence</h4>

<p>Briefly:</p>

<p>inline DSL &lt; metadata &lt; ( cli-input-file or kitchen-inspec or audit-cookbook )</p>

<p>In addition, for inherited profiles:</p>

<p>dependent profile metadata &lt; wrapper profile metadata</p>

<p>This precedence lets you override input values on the command line, as well as override child profile inline values from the parent profile.
This description matches the general behavior of InSpec v3, while also making some edge cases easier to reason.</p>

<h4 id="the-details-of-input-precedence">The Details of Input Precedence</h4>

<p>Whenever an input provider sets a value on an input, a <em>priority value</em> is assigned to the operation.  Over the life of the input, multiple assignments with varying priority values may occur. When the input is evaluated, the current value is determined by finding the setting event with the highest priority.</p>

<p>Note that this approach does not rely on execution order, nor does it rely on multiple named precedence levels. Each setting operation is preserved and this allows the user to <a href="#debugging-inputs-with-the-event-log">debug</a> the history of the input values.</p>

<p>Some input providers allow you to set a priority when you set the value.  For example, to set a priority of 50 in a metadata file, use:</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">inputs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">very_important_input</span>
  <span class="na">value</span><span class="pi">:</span> <span class="m">12</span>
  <span class="na">priority</span><span class="pi">:</span> <span class="m">50</span>
</code></pre></div>
<p>To set a priority in DSL, use:
<code>ruby
input(&#39;also_important&#39;, value: 42, priority: 45)
</code></p>

<p>As packaged, Chef InSpec uses the following priority values:</p>

<table><thead>
<tr>
<th>Input Provider</th>
<th>Priority</th>
<th>May change priority</th>
</tr>
</thead><tbody>
<tr>
<td>Inline DSL</td>
<td>20</td>
<td>Yes</td>
</tr>
<tr>
<td>Metadata</td>
<td>30</td>
<td>Yes</td>
</tr>
<tr>
<td>Metadata in a wrapper cookbook</td>
<td>35</td>
<td>Yes</td>
</tr>
<tr>
<td>CLI <code>--input-file</code> option</td>
<td>40</td>
<td>No</td>
</tr>
<tr>
<td>inspec-kitchen <code>inputs:</code> section</td>
<td>40</td>
<td>No</td>
</tr>
<tr>
<td>audit cookbook <code>node[:audit][:inputs]</code></td>
<td>40</td>
<td>No</td>
</tr>
</tbody></table>

<h3 id="what-happened-to-attributes">What happened to &ldquo;Attributes&rdquo;?</h3>

<p>When originally introduced, the Input facility was named <em>Attributes</em>. This name was problematic, because:</p>

<ul>
<li>The Chef Infra tool uses the same word to describe its parameterization system.</li>
<li>Chef Infra attributes have a completely different and much more complex precedence system.</li>
<li>This caused confusion about passing Chef Infra attributes into InSpec when using Audit Cookbook and kitchen-inspec.</li>
</ul>

<p>Based on these concerns, InSpec attributes have been renamed to InSpec inputs in Chef InSpec v4.</p>

<p>Support for using the DSL keyword <code>attribute()</code>, the metadata field <code>attributes:</code>, and the corresponding kitchen-inspec and audit cookbook values are anticipated to continue through Chef InSpec v5.</p>

<h2 id="working-with-inputs-in-control-code">Working with Inputs in Control Code</h2>

<h3 id="input-scope">Input Scope</h3>

<p>Inputs are available throughout the InSpec profile DSL. You can use them anywhere.</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="c1"># some_controls.rb</span>

<span class="n">input</span><span class="p">(</span><span class="s1">'outer_input'</span><span class="p">,</span> <span class="ss">value: </span><span class="mi">1</span><span class="p">)</span> <span class="c1"># here</span>

<span class="n">control</span> <span class="s1">'control-1'</span> <span class="k">do</span>
  <span class="n">input</span><span class="p">(</span><span class="s1">'control_dsl_input'</span><span class="p">,</span> <span class="ss">value: </span><span class="mi">2</span><span class="p">)</span> <span class="c1"># here too</span>
  <span class="n">describe</span> <span class="n">some_resource</span> <span class="k">do</span>
    <span class="n">input</span><span class="p">(</span><span class="s1">'test_dsl_input'</span><span class="p">,</span> <span class="ss">value: </span><span class="mi">3</span><span class="p">)</span> <span class="c1"># even here</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">cmp</span> <span class="n">input</span><span class="p">(</span><span class="s1">'expectation_dsl_input'</span><span class="p">)</span> <span class="p">}</span> <span class="c1"># and yes here too</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="setting-inputs-in-control-dsl">Setting Inputs in Control DSL</h3>

<p>When you write <code>input(&#39;some_name&#39;, value: &#39;some_value&#39;)</code>, you are <em>setting</em> an input value in the DSL. Because the <code>value:</code> option is present, a new value will be set.  You may also pass any other option listed in the <a href="#input-options-reference">input option reference</a>.</p>

<h3 id="reading-inputs-in-control-dsl">Reading Inputs in Control DSL</h3>

<p>When you call <code>input(&#39;some_name&#39;)</code>, with or without additional options, the value of the input will be resolved and returned. Note that this process may involve sourcing the value from another provider, using the value set in DSL, or overriding the value provided in the same call.</p>
<div class="highlight"><pre class="highlight ruby"><code>
<span class="c1"># You can use the value in a Ruby variable</span>
<span class="n">some_var</span> <span class="o">=</span> <span class="n">input</span><span class="p">(</span><span class="s1">'some_input_name'</span><span class="p">)</span>

<span class="c1"># Or more directly in a resource parameter</span>
<span class="n">describe</span> <span class="n">file</span><span class="p">(</span><span class="n">input</span><span class="p">(</span><span class="s1">'important_path'</span><span class="p">))</span> <span class="k">do</span>
  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">exist</span> <span class="p">}</span>
<span class="k">end</span>

<span class="c1"># Or as the resource itself (this could be a string, here)</span>
<span class="n">describe</span> <span class="n">input</span><span class="p">(</span><span class="s1">'some_setting'</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">cmp</span> <span class="s1">'correct_value'</span> <span class="p">}</span>
<span class="k">end</span>

<span class="c1"># Or as the expected value</span>
<span class="n">describe</span> <span class="n">file</span><span class="p">(</span><span class="s1">'/etc/httpd/httpd.conf'</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">its</span><span class="p">(</span><span class="s1">'owner'</span><span class="p">)</span> <span class="p">{</span> <span class="n">should_not</span> <span class="n">cmp</span> <span class="n">input</span><span class="p">(</span><span class="s1">'webserver_user'</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre></div>
<p>The value returned can be used anywhere a Ruby value is used.</p>

<h2 id="configuring-inputs-in-profile-metadata">Configuring Inputs in Profile Metadata</h2>

<p>Each Chef InSpec profile has a metadata file at the top level named <code>inspec.yml</code>. In that file, you may add a section for inputs. You may define inputs there, clearly setting options including values, type checking, and whether the input is required.</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">my_profile</span>
<span class="na">inputs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">webserver_user</span>  <span class="c1"># Name is the only required field</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">favorite_fruit</span>
  <span class="na">value</span><span class="pi">:</span> <span class="s">banana</span>         <span class="c1"># You can set a value; priority is 30 for metadata</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">meaning_of_life</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">Numeric</span>
  <span class="na">value</span><span class="pi">:</span> <span class="m">42</span>
  <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">priority</span><span class="pi">:</span> <span class="m">70</span>
</code></pre></div>
<p>All <a href="#input-options-reference">input options</a> are supported in metadata files.</p>

<p>There are two major advantages to defining inputs in profile metadata:
 1. The inputs and their configuration are listed explicitly in simple YAML in one place - a consumer of your profile does not need to read through the control code to find the inputs.
 2. You can set inputs in other profiles that you depend on using profile inheritance.</p>

<h3 id="using-inputs-with-profile-inheritance">Using inputs with Profile inheritance</h3>

<p>When your profile relies on another profile using the <code>depends</code> key in the metadata file, you can set — that is, override — the value of the input in the dependent profile by including the <code>profile</code> option and naming the dependent profile.</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="c1"># child inspec.yml</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">child</span>
<span class="na">inputs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">favorite_food</span>
  <span class="na">value</span><span class="pi">:</span> <span class="s">pizza</span>
</code></pre></div><div class="highlight"><pre class="highlight yaml"><code><span class="c1"># wrapper inspec.yml</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">wrapper</span>
<span class="na">depends</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">child</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">../child</span>
<span class="na">inputs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">favorite_food</span>
  <span class="na">value</span><span class="pi">:</span> <span class="s">broccoli</span>
  <span class="na">profile</span><span class="pi">:</span> <span class="s">child</span>       <span class="c1"># &lt;----- REQUIRED to override the value in InSpec 4</span>
</code></pre></div>
<p>In Chef InSpec 4+, every input is namespaced. For example, you could have an input named <code>wrapper/favorite_food</code> and one named <code>child/favorite_food</code>. If no explicit profile option is set within the <code>wrapper</code> profile metadata file, then <code>wrapper</code> is assumed to be the profile.</p>

<h2 id="setting-input-values-using-input-file">Setting Input values using <code>--input-file</code></h2>

<p>You may also provide inputs and values via YAML files on the command line. The format can be seen below:</p>
<div class="highlight"><pre class="highlight yaml"><code><span class="na">an_input</span><span class="pi">:</span> <span class="s">a_value</span>
<span class="na">another_input</span><span class="pi">:</span> <span class="s">another_value</span>
</code></pre></div>
<p>CLI-set inputs have a priority of 40.</p>

<p>As of Chef InSpec 4.3.2, this mechanism has the following limitations:</p>

<ol>
<li>No <a href="#input-options-reference">input options</a> may be set - only the name and value.</li>
<li>Because the CLI is outside the scope of any individual profile and the inputs don&rsquo;t take options, the inputs are clumsily copied into every profile, effectively making the CLI mechanism global.</li>
</ol>

<h2 id="input-options-reference">Input Options Reference</h2>

<h3 id="name">Name</h3>

<p>Required <code>String</code>. This option identifies the input.</p>

<p>Allowed in: All. When used in DSL and Metadata, the name is unique within the current profile. When used in CLI input files, audit cookbook, and kitchen-inspec, the input is copied across all profiles using the same name.</p>

<h3 id="description">Description</h3>

<p>Optional <code>String</code>. Human-meaningful explanation of the input.</p>

<p>Allowed in: DSL, Metadata</p>

<h3 id="value">Value</h3>

<p>Optional, any Ruby or YAML type. This is the value that will be available when you read the input. See the <a href="#reading-inputs-in-control-dsl">Reading Inputs</a> section for more information.</p>

<p>Allowed in: All</p>

<h3 id="type">Type</h3>

<p>Optional, <code>String</code>. This value must be one of <code>String</code>, <code>Numeric</code>, <code>Regexp</code>, <code>Array</code>, <code>Hash</code>, <code>Boolean</code>, or <code>Any</code>. If provided, the value of the input will be checked to see if it is of the corresponding type. Note that <code>Regexp</code> indicates that the input value itself should be a regular expression, not that it should match any particular regular expression.</p>

<p>Allowed in: DSL, Metadata</p>

<h3 id="required">Required</h3>

<p>Optional, <code>true</code> or <code>false</code>. If <code>true</code>, a control using the input will be failed if it <a href="#reading-inputs-in-control-dsl">reads</a> the value when none has been set.</p>

<p>Allowed in: DSL, Metadata</p>

<h3 id="priority">Priority</h3>

<p>Optional, <code>Integer</code>, 0-100. Higher values make this assignment have higher precedence. This is an advanced feature.</p>

<p>Allowed in: DSL, Metadata</p>

<h3 id="profile">Profile</h3>

<p>Optional, <code>String</code>. Allows you to set an input in another profile from your profile.</p>

<p>Allowed in: DSL, Metadata</p>

<h2 id="advanced-topics">Advanced Topics</h2>

<h3 id="debugging-inputs-with-the-event-log">Debugging Inputs with the Event Log</h3>

<p>If it is difficult to determine why a particular value is being used, you can use the Event Log to determine what is happening.</p>

<p>First, use the <code>input_object()</code> DSL method. This method is like <code>input()</code> in that it looks up an input, but instead of evaluating the current value, it returns the underlying <code>Inspec::Input</code> object.</p>
<div class="highlight"><pre class="highlight ruby"><code>
<span class="nb">puts</span> <span class="n">input_object</span><span class="p">(</span><span class="s1">'troublesome_input'</span><span class="p">).</span><span class="nf">diagnostic_string</span>

<span class="c1"># Or</span>
<span class="nb">require</span> <span class="s1">'pp'</span>
<span class="n">pp</span> <span class="n">input_object</span><span class="p">(</span><span class="s1">'troublesome_input'</span><span class="p">).</span><span class="nf">events</span>

</code></pre></div>
<p><code>diagnostic_string</code> assembles the Event Log into a printable log message for convenience.</p>

<p>The Event Log contains entries for every time that the value changed, as well as one for when the input was first created. When possible, stack probing is used to determine file and line numbers. Most importantly, you will see priority numbers; remember that highest priority wins; order only matters to break a tie.</p>
</column><div class="scrollToTop shadow-dark"><img id="scrollup" onerror="this.src='/images/home/arrow.png'" src="/images/home/arrow.svg" /></div></div><script>// Swiftype JS code snippet
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','xzyJV6P7pgscygGyyTm8','2.0.0');
// end Swiftype code snippet

document.getElementsByClassName("st-default-search-input")[0].focus();</script></main></div><footer class="dark-bg" id="main-footer"><div class="strict-center" id="dlmsg"><div class="pad-under-xs"><img alt="image of octagon spinning" id="hex" onerror="this.src='/images/octagon.png'" src="/images/octagon.svg" /></div><h3 class="t-white pad-under-xs">Get started with Chef InSpec and rock on.</h3><div class="row align columns"><div class="strict-center"><a class="button btn-lg btn-purple shadow-dark margin-right-xs mobile-row-btn" href="/downloads"><i class="fa fa-cloud-download"></i><span>download InSpec 4</span></a><a class="button btn-lg btn-white-o shadow-dark mobile-row-btn" href="/tutorials">browse tutorials</a></div></div></div><div class="flex align"><div class="columns large-4 medium-4 mobile-hide"><ul class="footer--logos"><li><a class="footer--logo inspec" href="/"><img alt="logo for Chef InSpec" src="/images/inspec-by-chef-logo.png" /></a></li><li><a class="footer--logo chef" href="https://www.chef.io"><img alt="logo for Chef Software" src="/images/chef-logo.png" /></a></li></ul></div><div class="columns large-8 medium-8"><ul class="footer--links strict-right"><li><a class="link footer--link" href="https://docs.chef.io/chef_license.html">Licensing</a></li><li><a class="link footer--link" href="https://www.chef.io/terms-of-service/">Terms &amp; Conditions</a></li><li><a class="link footer--link" href="https://www.chef.io/trademark-policy/">Trademark Policy</a></li><li><a class="link footer--link" href="https://www.chef.io/privacy-policy/">Privacy Policy</a></li><li><a class="link footer--link" href="https://www.chef.io/cookie-policy/">Cookie Policy</a></li></ul><div class="columns margin-both-xs mobile-show"><ul class="footer--logos"><li><a class="footer--logo inspec" href="/"><img alt="logo for Chef InSpec" src="/images/inspec-by-chef-logo.png" /></a></li><li><a class="footer--logo chef" href="http://www.chef.io"><img alt="logo for Chef Software" src="/images/chef-logo.png" /></a></li></ul></div></div></div><p class="strict-center pad-under-xs"><small class="t-gray">&copy; Chef Software 2015-2019</small></p></footer><script src="https://buttons.github.io/buttons.js"></script><script src="/scripts/inspec_tutorial.js"></script><script src="/dist/inspec_tutorial.js"></script><script src="/javascripts/vendor/jquery.min.js"></script><script src="https://s3.amazonaws.com/menumaker/menumaker.min.js"></script><div class="inspec-tutorial" hidden="true" inspec-tutorial="true">Loading</div><script src="/javascripts/all.js"></script><script>function initSlideGroup(group) {
  var prev = -1;
  var links = $(group).find('a')

  links.click(function(e) {
    e.stopPropagation()

    links.removeClass('selected')
    $(this).addClass('selected')

    var idx = $(this).index();
    if(prev == idx) return;
    prev = idx;

    $('.slider .view.slide-in').removeClass('slide-in').addClass('slide-out')
    var el = $('.slider .view')[idx]
    if(el == null) {
      console.log("No element for slider index "+idx)
      return
    }

    $(el).removeClass('slide-out').removeClass('hidden').addClass('slide-in')
  })

  if(links[0] != null) links[0].click();
}

function initSliders() {
  $('.slider .view').addClass('hidden')
  var groups = $('.slider .selectors')
  groups.each(function(idx){
    initSlideGroup(this)
  })
}

//run code colors

$(document).ready(function() {
  initSliders()
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});

//copy to clipboard

function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val($(element).text()).select();
  document.execCommand("copy");
  $temp.remove();
}

$('#copy').hover(function() {
   $('#install').toggleClass("text-focus");
});

$('#copy').click(function() {
   $(this).removeClass("fa-copy");
   $(this).addClass("fa-check");

 setTimeout(() => {
   $(this).removeClass('fa-check').addClass('fa-copy');
  }, 1500);
});

// homepage content slider

$(function() {
  $("#expand").hide();
  $("#expandBtn").html("Show all new InSpec 4 features");

   $('#expandBtn').click(function() {
      $('#expand').slideToggle("fast");
      $(this).html($(this).html() == 'Collapse new InSpec 4 features' ? 'Show all new InSpec 4 features' : 'Collapse new InSpec 4 features');
   });
});

// tutorial content slider

$(function() {
  $(".collapseContent").hide();
  $(".collapsebtn").addClass("fa-plus-square");

   $('.collapseToggle').click(function() {
      var el = $(this).parent().find('.collapseContent')
      el.slideToggle("fast")
      // $('.collapseContent').slideToggle("fast");
      var btn = $(this).find('.collapsebtn')
      if(btn.hasClass('fa-minus-square')) {
        btn.addClass('fa-plus-square')
        btn.removeClass('fa-minus-square')
      } else {
        btn.addClass('fa-minus-square')
        btn.removeClass('fa-plus-square')
      }
   });
});



// scroll spy animations

var $slide_left = $('.slide-left');
var $slide_right = $('.slide-right');
var $slide_up = $('.slide-up');
var $slide_up_slow = $('.slide-up-slow');
var $window = $(window);

function check_if_in_view() {
  var window_height = $window.height();
  var window_top_position = $window.scrollTop();
  var window_bottom_position = (window_top_position + window_height);

  $.each($slide_left, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_right, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_up, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_up_slow, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });
}

$window.on('scroll resize', check_if_in_view);
$window.trigger('scroll');

//scroll to top
$(document).ready(function(){

  $(window).scroll(function(){
    if ($(this).scrollTop() > 100) {
      $('.scrollToTop').fadeIn();
    } else {
      $('.scrollToTop').fadeOut();
    }
  });

  $('.scrollToTop').click(function(){
    $('html, body').animate({scrollTop : 0},800);
    return false;
  });

  // scrolling to resource sections
  $(".resources-button").click(function() {
    var dst = $(this).attr("href")
    $(".resources-button").removeClass("btn-purple").addClass("btn-purple-o")
    $(this).addClass("btn-purple").removeClass("btn-purple-o")
    $("html, body").animate({
        scrollTop: $(dst).offset().top - 105
    }, 1000);
  });

});

//scrolling code box

var div = $('#scrolled');
   setInterval(function(){
    var pos = div.scrollTop();
    div.scrollTop(pos + 2);
}, 200);

//Animating progress bar for header

$(document).ready(function(){

var getMax = function(){
    return $(document).height() - $(window).height();
}

var getValue = function(){
    return $(window).scrollTop();
}

if('max' in document.createElement('progress')){
    // Browser supports progress element
    var progressBar = $('progress');

    // Set the Max attr for the first time
    progressBar.attr({ max: getMax() });

    $(document).on('scroll', function(){
        // On scroll only Value attr needs to be calculated
        progressBar.attr({ value: getValue() });
    });

    $(window).resize(function(){
        // On resize, both Max/Value attr needs to be calculated
        progressBar.attr({ max: getMax(), value: getValue() });
    });
}
else {
    var progressBar = $('.progress-bar'),
        max = getMax(),
        value, width;

    var getWidth = function(){
        // Calculate width in percentage
        value = getValue();
        width = (value/max) * 100;
        width = width + '%';
        return width;
    }

    var setWidth = function(){
        progressBar.css({ width: getWidth() });
    }

    $(document).on('scroll', setWidth);
    $(window).on('resize', function(){
        // Need to reset the Max attr
        max = getMax();
        setWidth();
    });
    }
  });</script><script>$(document).foundation();
$('.try-demo').click(function(event){
  event.stopPropagation();
  $('.inspec-tutorial').show()
  window.dispatchEvent(new Event('resizeTerminal'));
  $('.quit-inspec-tutorial').click(function(event){
    event.stopPropagation();
    $('.inspec-tutorial').hide()
  })
});</script><script src="/javascripts/segment.js"></script></body></html>